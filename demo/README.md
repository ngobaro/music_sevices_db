# D·ª± √°n Web Nghe Nh·∫°c - React + Vite + Spring Boot

## üéµ T·ªïng quan d·ª± √°n

·ª®ng d·ª•ng web nghe nh·∫°c online v·ªõi c√°c t√≠nh nƒÉng:
- üéß Ph√°t nh·∫°c tr·ª±c tuy·∫øn
- üì± Qu·∫£n l√Ω playlist c√° nh√¢n
- üîç T√¨m ki·∫øm b√†i h√°t, ngh·ªá sƒ©, album
- ‚ù§Ô∏è Y√™u th√≠ch b√†i h√°t
- üë§ Qu·∫£n l√Ω t√†i kho·∫£n ng∆∞·ªùi d√πng
- üé® Giao di·ªán th√¢n thi·ªán, responsive

---

## üéØ Ki·∫øn tr√∫c h·ªá th·ªëng

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    MUSIC WEB APPLICATION                         ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Music Player ‚îÇ ‚îÄ‚îÄ> ‚îÇ Audio Engine ‚îÇ ‚îÄ‚îÄ> ‚îÇ  HTML5 Audio   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   (UI/UX)    ‚îÇ     ‚îÇ   (State)    ‚îÇ     ‚îÇ   API/Stream   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ         ‚Üì                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ              React Components & Pages                     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  HomePage | SearchPage | PlaylistPage | ProfilePage      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ         ‚Üì                                                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ   Services   ‚îÇ ‚îÄ‚îÄ> ‚îÇ  REST API    ‚îÇ ‚îÄ‚îÄ> ‚îÇ  Spring Boot   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (API Calls) ‚îÇ     ‚îÇ  (axios)     ‚îÇ     ‚îÇ    Backend     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                      ‚Üì           ‚îÇ
‚îÇ                                              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ                                              ‚îÇ    Database    ‚îÇ  ‚îÇ
‚îÇ                                              ‚îÇ Songs/Users/   ‚îÇ  ‚îÇ
‚îÇ                                              ‚îÇ   Playlists    ‚îÇ  ‚îÇ
‚îÇ                                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìÅ C·∫•u tr√∫c th∆∞ m·ª•c cho Web Nh·∫°c

```
music-web/
‚îÇ
‚îú‚îÄ‚îÄ node_modules/
‚îÇ
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ audio/                    # üéµ File nh·∫°c tƒ©nh (n·∫øu c√≥)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ samples/
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ covers/              # ·∫¢nh b√¨a album
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ artists/             # ·∫¢nh ngh·ªá sƒ©
‚îÇ   ‚îî‚îÄ‚îÄ icons/
‚îÇ
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ default-cover.png    # ·∫¢nh m·∫∑c ƒë·ªãnh
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logo.png
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ background.jpg
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ icons/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ play.svg
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pause.svg
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ next.svg
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prev.svg
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ heart.svg
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ themes.css
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/              # Component d√πng chung
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchBar.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoadingSpinner.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ErrorMessage.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/              # Layout ch√≠nh
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header.jsx       # Header v·ªõi search, user menu
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.jsx      # Menu: Home, Library, Playlists
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerBar.jsx    # ‚≠ê Music player ·ªü bottom
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Footer.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ music/               # üéµ Components li√™n quan nh·∫°c
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MusicPlayer.jsx         # Player ch√≠nh
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerControls.jsx      # Play/Pause/Next/Prev
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProgressBar.jsx         # Thanh progress
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VolumeControl.jsx       # ƒêi·ªÅu ch·ªânh √¢m l∆∞·ª£ng
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SongCard.jsx            # Card hi·ªÉn th·ªã b√†i h√°t
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SongList.jsx            # Danh s√°ch b√†i h√°t
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AlbumCard.jsx           # Card album
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ArtistCard.jsx          # Card ngh·ªá sƒ©
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NowPlaying.jsx          # B√†i ƒëang ph√°t
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ playlist/            # Playlist components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlaylistCard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlaylistList.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CreatePlaylist.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AddToPlaylist.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ search/              # T√¨m ki·∫øm
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchInput.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchResults.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SearchFilter.jsx
‚îÇ   ‚îÇ   ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user/                # User components
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ UserProfile.jsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ UserAvatar.jsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ UserMenu.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ pages/                   # üìÑ C√°c trang ch√≠nh
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomePage.jsx                # Trang ch·ªß - Trending songs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchPage.jsx              # Trang t√¨m ki·∫øm
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LibraryPage.jsx             # Th∆∞ vi·ªán c·ªßa t√¥i
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlaylistPage.jsx            # Chi ti·∫øt playlist
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AlbumPage.jsx               # Chi ti·∫øt album
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ArtistPage.jsx              # Trang ngh·ªá sƒ©
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FavoritesPage.jsx           # B√†i h√°t y√™u th√≠ch
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProfilePage.jsx             # Trang c√° nh√¢n
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LoginPage.jsx               # ƒêƒÉng nh·∫≠p
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RegisterPage.jsx            # ƒêƒÉng k√Ω
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NotFoundPage.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ services/                # üîå API Services
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.js              # Config axios chung
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ authService.js      # ƒêƒÉng nh·∫≠p/ƒëƒÉng k√Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ songService.js      # ‚≠ê API b√†i h√°t
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ playlistService.js  # ‚≠ê API playlist
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ albumService.js     # API album
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ artistService.js    # API ngh·ªá sƒ©
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ userService.js      # API user
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ searchService.js    # API t√¨m ki·∫øm
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                   # ü™ù Custom Hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.js
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usePlayer.js        # ‚≠ê Hook qu·∫£n l√Ω player
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ usePlaylist.js      # Hook qu·∫£n l√Ω playlist
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAudio.js         # ‚≠ê Hook x·ª≠ l√Ω audio
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useFavorites.js     # Hook y√™u th√≠ch
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useSearch.js        # Hook t√¨m ki·∫øm
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ context/                 # üåê Global State
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AuthContext.jsx     # User authentication
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlayerContext.jsx   # ‚≠ê Player state (ƒëang ph√°t, queue)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlaylistContext.jsx # Playlist state
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ThemeContext.jsx    # Dark/Light mode
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/                   # üõ†Ô∏è Utilities
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ constants.js        # API_URL, AUDIO_FORMAT...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formatTime.js       # ‚≠ê Format duration (3:45)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ audioHelper.js      # ‚≠ê X·ª≠ l√Ω audio
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validation.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storage.js          # LocalStorage helpers
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AppRoutes.jsx
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ global.css
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ player.css          # ‚≠ê Style cho player
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ animations.css      # Animations
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ responsive.css
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ App.jsx
‚îÇ   ‚îú‚îÄ‚îÄ App.css
‚îÇ   ‚îú‚îÄ‚îÄ main.jsx
‚îÇ   ‚îî‚îÄ‚îÄ index.css
‚îÇ
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ vite.config.js
‚îî‚îÄ‚îÄ README.md
```

---

## üéµ C√°c t√≠nh nƒÉng ch√≠nh

### 1. **Music Player** (Component quan tr·ªçng nh·∫•t)
- Ph√°t/D·ª´ng/Ti·∫øp theo/Tr∆∞·ªõc ƒë√≥
- Tua nhanh/l√πi
- ƒêi·ªÅu ch·ªânh √¢m l∆∞·ª£ng
- Repeat/Shuffle
- Hi·ªÉn th·ªã th·ªùi gian ph√°t
- Progress bar t∆∞∆°ng t√°c

### 2. **Qu·∫£n l√Ω Playlist**
- T·∫°o playlist m·ªõi
- Th√™m/x√≥a b√†i h√°t kh·ªèi playlist
- Ch·ªânh s·ª≠a t√™n/m√¥ t·∫£ playlist
- Chia s·∫ª playlist

### 3. **T√¨m ki·∫øm & L·ªçc**
- T√¨m theo t√™n b√†i h√°t, ngh·ªá sƒ©, album
- L·ªçc theo th·ªÉ lo·∫°i
- G·ª£i √Ω t√¨m ki·∫øm

### 4. **Th∆∞ vi·ªán c√° nh√¢n**
- B√†i h√°t y√™u th√≠ch
- Playlist ƒë√£ t·∫°o
- L·ªãch s·ª≠ nghe nh·∫°c
- Album ƒë√£ l∆∞u

### 5. **X√£ h·ªôi h√≥a**
- Follow ngh·ªá sƒ©
- Like b√†i h√°t
- Chia s·∫ª playlist
- B√¨nh lu·∫≠n (optional)

---

## üîß File quan tr·ªçng - PlayerContext.jsx

### **src/context/PlayerContext.jsx**
```javascript
import { createContext, useState, useContext, useRef, useEffect } from 'react';

const PlayerContext = createContext();

export function PlayerProvider({ children }) {
  const audioRef = useRef(new Audio());
  
  const [currentSong, setCurrentSong] = useState(null);
  const [isPlaying, setIsPlaying] = useState(false);
  const [currentTime, setCurrentTime] = useState(0);
  const [duration, setDuration] = useState(0);
  const [volume, setVolume] = useState(1);
  const [queue, setQueue] = useState([]);
  const [queueIndex, setQueueIndex] = useState(0);
  const [repeat, setRepeat] = useState(false); // none, one, all
  const [shuffle, setShuffle] = useState(false);

  // Play a song
  const playSong = (song) => {
    if (currentSong?.id !== song.id) {
      setCurrentSong(song);
      audioRef.current.src = song.audioUrl;
    }
    audioRef.current.play();
    setIsPlaying(true);
  };

  // Pause
  const pauseSong = () => {
    audioRef.current.pause();
    setIsPlaying(false);
  };

  // Toggle play/pause
  const togglePlay = () => {
    if (isPlaying) {
      pauseSong();
    } else {
      audioRef.current.play();
      setIsPlaying(true);
    }
  };

  // Next song
  const nextSong = () => {
    if (queue.length === 0) return;
    
    let nextIndex = queueIndex + 1;
    if (nextIndex >= queue.length) {
      nextIndex = repeat ? 0 : queueIndex;
    }
    
    setQueueIndex(nextIndex);
    playSong(queue[nextIndex]);
  };

  // Previous song
  const prevSong = () => {
    if (queue.length === 0) return;
    
    let prevIndex = queueIndex - 1;
    if (prevIndex < 0) {
      prevIndex = queue.length - 1;
    }
    
    setQueueIndex(prevIndex);
    playSong(queue[prevIndex]);
  };

  // Seek to time
  const seekTo = (time) => {
    audioRef.current.currentTime = time;
    setCurrentTime(time);
  };

  // Change volume
  const changeVolume = (vol) => {
    audioRef.current.volume = vol;
    setVolume(vol);
  };

  // Play queue
  const playQueue = (songs, startIndex = 0) => {
    setQueue(songs);
    setQueueIndex(startIndex);
    playSong(songs[startIndex]);
  };

  // Audio event listeners
  useEffect(() => {
    const audio = audioRef.current;

    const updateTime = () => setCurrentTime(audio.currentTime);
    const updateDuration = () => setDuration(audio.duration);
    const handleEnded = () => {
      if (repeat === 'one') {
        audio.play();
      } else {
        nextSong();
      }
    };

    audio.addEventListener('timeupdate', updateTime);
    audio.addEventListener('loadedmetadata', updateDuration);
    audio.addEventListener('ended', handleEnded);

    return () => {
      audio.removeEventListener('timeupdate', updateTime);
      audio.removeEventListener('loadedmetadata', updateDuration);
      audio.removeEventListener('ended', handleEnded);
    };
  }, [repeat, queueIndex, queue]);

  const value = {
    currentSong,
    isPlaying,
    currentTime,
    duration,
    volume,
    queue,
    queueIndex,
    repeat,
    shuffle,
    playSong,
    pauseSong,
    togglePlay,
    nextSong,
    prevSong,
    seekTo,
    changeVolume,
    playQueue,
    setRepeat,
    setShuffle
  };

  return (
    <PlayerContext.Provider value={value}>
      {children}
    </PlayerContext.Provider>
  );
}

export function usePlayer() {
  const context = useContext(PlayerContext);
  if (!context) {
    throw new Error('usePlayer must be used within PlayerProvider');
  }
  return context;
}
```

---

## üéµ Component MusicPlayer

### **src/components/music/MusicPlayer.jsx**
```javascript
import { usePlayer } from '../../context/PlayerContext';
import PlayerControls from './PlayerControls';
import ProgressBar from './ProgressBar';
import VolumeControl from './VolumeControl';
import { formatTime } from '../../utils/formatTime';
import './MusicPlayer.css';

function MusicPlayer() {
  const { currentSong, currentTime, duration } = usePlayer();

  if (!currentSong) {
    return (
      <div className="music-player empty">
        <p>Ch·ªçn b√†i h√°t ƒë·ªÉ ph√°t</p>
      </div>
    );
  }

  return (
    <div className="music-player">
      {/* Song Info */}
      <div className="player-song-info">
        <img 
          src={currentSong.coverUrl || '/default-cover.png'} 
          alt={currentSong.title}
          className="player-cover"
        />
        <div className="player-text">
          <h4>{currentSong.title}</h4>
          <p>{currentSong.artist}</p>
        </div>
        <button className="btn-favorite">
          <span className="icon-heart">‚ù§Ô∏è</span>
        </button>
      </div>

      {/* Controls */}
      <div className="player-controls-section">
        <PlayerControls />
        <div className="player-progress">
          <span className="time">{formatTime(currentTime)}</span>
          <ProgressBar />
          <span className="time">{formatTime(duration)}</span>
        </div>
      </div>

      {/* Volume & Options */}
      <div className="player-options">
        <VolumeControl />
        <button className="btn-queue">Queue</button>
      </div>
    </div>
  );
}

export default MusicPlayer;
```

### **src/components/music/PlayerControls.jsx**
```javascript
import { usePlayer } from '../../context/PlayerContext';
import './PlayerControls.css';

function PlayerControls() {
  const { 
    isPlaying, 
    togglePlay, 
    nextSong, 
    prevSong,
    repeat,
    shuffle,
    setRepeat,
    setShuffle
  } = usePlayer();

  const handleRepeat = () => {
    const modes = [false, 'one', 'all'];
    const currentIndex = modes.indexOf(repeat);
    const nextIndex = (currentIndex + 1) % modes.length;
    setRepeat(modes[nextIndex]);
  };

  return (
    <div className="player-controls">
      <button 
        className={`btn-control ${shuffle ? 'active' : ''}`}
        onClick={() => setShuffle(!shuffle)}
        title="Shuffle"
      >
        üîÄ
      </button>

      <button 
        className="btn-control btn-prev" 
        onClick={prevSong}
        title="Previous"
      >
        ‚èÆÔ∏è
      </button>

      <button 
        className="btn-control btn-play-pause" 
        onClick={togglePlay}
        title={isPlaying ? 'Pause' : 'Play'}
      >
        {isPlaying ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è'}
      </button>

      <button 
        className="btn-control btn-next" 
        onClick={nextSong}
        title="Next"
      >
        ‚è≠Ô∏è
      </button>

      <button 
        className={`btn-control ${repeat ? 'active' : ''}`}
        onClick={handleRepeat}
        title={`Repeat: ${repeat || 'off'}`}
      >
        {repeat === 'one' ? 'üîÇ' : 'üîÅ'}
      </button>
    </div>
  );
}

export default PlayerControls;
```

### **src/components/music/ProgressBar.jsx**
```javascript
import { usePlayer } from '../../context/PlayerContext';
import './ProgressBar.css';

function ProgressBar() {
  const { currentTime, duration, seekTo } = usePlayer();

  const percentage = duration > 0 ? (currentTime / duration) * 100 : 0;

  const handleSeek = (e) => {
    const bar = e.currentTarget;
    const rect = bar.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const percentage = x / rect.width;
    const time = percentage * duration;
    seekTo(time);
  };

  return (
    <div className="progress-bar" onClick={handleSeek}>
      <div 
        className="progress-fill" 
        style={{ width: `${percentage}%` }}
      >
        <div className="progress-handle"></div>
      </div>
    </div>
  );
}

export default ProgressBar;
```

---

## üéµ API Services

### **src/services/songService.js**
```javascript
import api from './api';

// L·∫•y t·∫•t c·∫£ b√†i h√°t
export const getAllSongs = async (params = {}) => {
  const response = await api.get('/songs', { params });
  return response.data;
};

// L·∫•y b√†i h√°t theo ID
export const getSongById = async (id) => {
  const response = await api.get(`/songs/${id}`);
  return response.data;
};

// T√¨m ki·∫øm b√†i h√°t
export const searchSongs = async (query) => {
  const response = await api.get('/songs/search', { 
    params: { q: query } 
  });
  return response.data;
};

// L·∫•y b√†i h√°t trending
export const getTrendingSongs = async () => {
  const response = await api.get('/songs/trending');
  return response.data;
};

// L·∫•y b√†i h√°t theo th·ªÉ lo·∫°i
export const getSongsByGenre = async (genre) => {
  const response = await api.get(`/songs/genre/${genre}`);
  return response.data;
};

// Stream URL cho b√†i h√°t
export const getSongStreamUrl = (songId) => {
  return `${api.defaults.baseURL}/songs/${songId}/stream`;
};

// TƒÉng l∆∞·ª£t nghe
export const incrementPlayCount = async (songId) => {
  await api.post(`/songs/${songId}/play`);
};
```

### **src/services/playlistService.js**
```javascript
import api from './api';

// L·∫•y t·∫•t c·∫£ playlists c·ªßa user
export const getUserPlaylists = async () => {
  const response = await api.get('/playlists');
  return response.data;
};

// T·∫°o playlist m·ªõi
export const createPlaylist = async (data) => {
  const response = await api.post('/playlists', data);
  return response.data;
};

// L·∫•y chi ti·∫øt playlist
export const getPlaylistById = async (id) => {
  const response = await api.get(`/playlists/${id}`);
  return response.data;
};

// Th√™m b√†i h√°t v√†o playlist
export const addSongToPlaylist = async (playlistId, songId) => {
  const response = await api.post(`/playlists/${playlistId}/songs`, {
    songId
  });
  return response.data;
};

// X√≥a b√†i h√°t kh·ªèi playlist
export const removeSongFromPlaylist = async (playlistId, songId) => {
  await api.delete(`/playlists/${playlistId}/songs/${songId}`);
};

// C·∫≠p nh·∫≠t playlist
export const updatePlaylist = async (id, data) => {
  const response = await api.put(`/playlists/${id}`, data);
  return response.data;
};

// X√≥a playlist
export const deletePlaylist = async (id) => {
  await api.delete(`/playlists/${id}`);
};
```

---

## üé® Utilities

### **src/utils/formatTime.js**
```javascript
// Format seconds to MM:SS
export const formatTime = (seconds) => {
  if (isNaN(seconds) || seconds < 0) {
    return '0:00';
  }

  const mins = Math.floor(seconds / 60);
  const secs = Math.floor(seconds % 60);
  return `${mins}:${secs.toString().padStart(2, '0')}`;
};

// Format to HH:MM:SS if needed
export const formatTimeDetailed = (seconds) => {
  if (isNaN(seconds) || seconds < 0) {
    return '0:00:00';
  }

  const hrs = Math.floor(seconds / 3600);
  const mins = Math.floor((seconds % 3600) / 60);
  const secs = Math.floor(seconds % 60);

  if (hrs > 0) {
    return `${hrs}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  }
  
  return `${mins}:${secs.toString().padStart(2, '0')}`;
};
```

### **src/utils/audioHelper.js**
```javascript
// Ki·ªÉm tra ƒë·ªãnh d·∫°ng audio c√≥ ƒë∆∞·ª£c h·ªó tr·ª£ kh√¥ng
export const isAudioFormatSupported = (format) => {
  const audio = new Audio();
  const mimeTypes = {
    mp3: 'audio/mpeg',
    wav: 'audio/wav',
    ogg: 'audio/ogg',
    m4a: 'audio/mp4'
  };
  
  return audio.canPlayType(mimeTypes[format]) !== '';
};

// Preload audio
export const preloadAudio = (url) => {
  return new Promise((resolve, reject) => {
    const audio = new Audio();
    audio.src = url;
    audio.addEventListener('canplaythrough', () => resolve(audio));
    audio.addEventListener('error', reject);
    audio.load();
  });
};

// Get audio metadata
export const getAudioMetadata = (file) => {
  return new Promise((resolve, reject) => {
    const audio = new Audio();
    const url = URL.createObjectURL(file);
    
    audio.src = url;
    audio.addEventListener('loadedmetadata', () => {
      resolve({
        duration: audio.duration,
        src: url
      });
      URL.revokeObjectURL(url);
    });
    audio.addEventListener('error', reject);
  });
};
```

---

## üîÑ Lu·ªìng ho·∫°t ƒë·ªông - Ph√°t nh·∫°c

```
[1. User click v√†o b√†i h√°t]
        ‚Üì
[2. Component g·ªçi usePlayer().playSong(song)]
        ‚Üì
[3. PlayerContext c·∫≠p nh·∫≠t state]
   - setCurrentSong(song)
   - audioRef.src = song.audioUrl
        ‚Üì
[4. Audio element load file]
   - T·ª´ backend stream: /api/songs/{id}/stream
   - Ho·∫∑c URL tr·ª±c ti·∫øp
        ‚Üì
[5. audio.play() ƒë∆∞·ª£c g·ªçi]
        ‚Üì
[6. Event listeners update UI]
   - timeupdate ‚Üí update progress bar
   - loadedmetadata ‚Üí set duration
   - ended ‚Üí auto next song
        ‚Üì
[7. UI t·ª± ƒë·ªông re-render]
   - Player hi·ªÉn th·ªã th√¥ng tin b√†i h√°t
   - Progress bar di chuy·ªÉn
   - Play button ‚Üí Pause button
        ‚Üì
[8. Backend ghi nh·∫≠n]
   - Increment play count
   - L∆∞u l·ªãch s·ª≠ nghe nh·∫°c
```

---

## üóÑÔ∏è Database Schema (Backend)

```sql
-- B·∫£ng Songs
CREATE TABLE songs (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    artist VARCHAR(255),
    album VARCHAR(255),
    duration INT,                    -- Seconds
    audio_url VARCHAR(500),          -- URL file nh·∫°c
    cover_url VARCHAR(500),          -- URL ·∫£nh b√¨a
    genre VARCHAR(100),
    release_date DATE,
    play_count INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- B·∫£ng Playlists
CREATE TABLE playlists (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT,
    name VARCHAR(255) NOT NULL,
    description TEXT,
    cover_url VARCHAR(500),
    is_public BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

-- B·∫£ng Playlist_Songs (Many-to-Many)
CREATE TABLE playlist_songs (
    playlist_id BIGINT,
    song_id BIGINT,
    position INT,                    -- Th·ª© t·ª± trong playlist
    added_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (playlist_id, song_id),
    FOREIGN KEY (playlist_id) REFERENCES playlists(id),
    FOREIGN KEY (song_id) REFERENCES songs(id)
);

-- B·∫£ng Favorites
CREATE TABLE favorites (
    user_id BIGINT,
    song_id BIGINT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (user_id, song_id),
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (song_id) REFERENCES songs(id)
);

-- B·∫£ng Listen History
CREATE TABLE listen_history (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT,
    song_id BIGINT,
    listened_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (song_id) REFERENCES songs(id)
);
```

---

## üöÄ T√≠nh nƒÉng n√¢ng cao (Optional)

### 1. **Audio Visualizer**
```javascript
// S·ª≠ d·ª•ng Web Audio API
const AudioContext = window.AudioContext || window.webkitAudioContext;
const audioContext = new AudioContext();
const analyser = audioContext.createAnalyser();
```

### 2. **Lyrics Display**
- Hi·ªÉn th·ªã l·ªùi b√†i h√°t theo th·ªùi gian
- Format: LRC file

### 3. **Queue Management**
- Xem danh s√°ch ch·ªù
- K√©o th·∫£ s·∫Øp x·∫øp l·∫°i
- X√≥a kh·ªèi queue

### 4. **Social Features**
- Follow ng∆∞·ªùi d√πng kh√°c
- Share playlist
- Comment & Like

### 5. **Recommendation System**
- G·ª£i √Ω d·ª±a tr√™n l·ªãch s